# ================================================================
# COACH PLATFORM - ENVIRONMENT CONFIGURATION
# Copy this file to .env and fill in your values
# ================================================================

# ================================================================
# APPLICATION SETTINGS
# ================================================================
APP_NAME=Coach-Client Engagement Platform
APP_ENV=development
DEBUG=True
API_VERSION=v1
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=coach_platform
DB_USER=coach_platform_user
DB_PASSWORD=your-secure-database-password
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# Database URL (Auto-constructed, but can override)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
ASYNC_DATABASE_URL=postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ================================================================
# AZURE CONFIGURATION (India Central)
# ================================================================
AZURE_REGION=centralindia
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_RESOURCE_GROUP=coach-platform-rg
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret

# Azure Blob Storage (for media files)
AZURE_STORAGE_ACCOUNT_NAME=coachplatformstorage
AZURE_STORAGE_ACCOUNT_KEY=your-storage-account-key
AZURE_STORAGE_CONTAINER_NAME=media-assets
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=${AZURE_STORAGE_ACCOUNT_NAME};AccountKey=${AZURE_STORAGE_ACCOUNT_KEY};EndpointSuffix=core.windows.net

# ================================================================
# AUTHENTICATION
# ================================================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# WhatsApp OTP (via Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886
TWILIO_SMS_NUMBER=+1234567890

# OTP Settings
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_LENGTH=6

# ================================================================
# WHATSAPP INTEGRATION (Meta Business API)
# ================================================================
META_WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id
META_WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
META_WHATSAPP_ACCESS_TOKEN=your-permanent-access-token
META_WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token
META_WHATSAPP_API_VERSION=v18.0

# ================================================================
# AI INTEGRATION
# ================================================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=1000

# Anthropic Claude (Alternative)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# AI Settings
AI_PROVIDER=openai
AI_INTENT_CONFIDENCE_THRESHOLD=0.7
AI_MAX_RETRIES=3

# ================================================================
# PAYMENT INTEGRATION (Razorpay - India)
# ================================================================
RAZORPAY_KEY_ID=rzp_test_your_key_id
RAZORPAY_KEY_SECRET=your_key_secret
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret
RAZORPAY_ACCOUNT_NUMBER=your_account_number

# Payment Settings
CURRENCY=INR
PAYMENT_SUCCESS_URL=http://localhost:3000/payment/success
PAYMENT_FAILURE_URL=http://localhost:3000/payment/failure

# ================================================================
# EMAIL CONFIGURATION (Azure Communication Services or SendGrid)
# ================================================================
EMAIL_PROVIDER=azure
AZURE_COMMUNICATION_CONNECTION_STRING=your-connection-string
EMAIL_FROM_ADDRESS=noreply@coachplatform.com
EMAIL_FROM_NAME=Coach Platform

# SendGrid (Alternative)
SENDGRID_API_KEY=your-sendgrid-api-key

# ================================================================
# REDIS (for Caching & Background Jobs)
# ================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ================================================================
# CELERY (Background Tasks)
# ================================================================
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_TASK_ALWAYS_EAGER=False

# ================================================================
# CORS SETTINGS
# ================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://your-frontend-domain.com
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# ================================================================
# RATE LIMITING
# ================================================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ================================================================
# LOGGING
# ================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log

# ================================================================
# MONITORING & OBSERVABILITY
# ================================================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=${APP_ENV}
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application Insights (Azure)
APPINSIGHTS_INSTRUMENTATION_KEY=your-instrumentation-key
APPINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key

# ================================================================
# FEATURE FLAGS
# ================================================================
FEATURE_AI_INTENT_ENABLED=True
FEATURE_WHATSAPP_ENABLED=True
FEATURE_COMMUNITY_ENABLED=True
FEATURE_REFERRALS_ENABLED=True
FEATURE_PAYMENTS_ENABLED=True

# ================================================================
# FILE UPLOAD SETTINGS
# ================================================================
MAX_FILE_SIZE_MB=50
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,gif,webp
ALLOWED_VIDEO_EXTENSIONS=mp4,mov,avi
ALLOWED_DOCUMENT_EXTENSIONS=pdf,doc,docx,xls,xlsx

# ================================================================
# SESSION SETTINGS
# ================================================================
SESSION_REMINDER_HOURS=24
MAX_SESSIONS_PER_DAY=10
SESSION_CANCELLATION_HOURS=24

# ================================================================
# REFERRAL SETTINGS
# ================================================================
REFERRAL_REWARD_AMOUNT=500
REFERRAL_CODE_LENGTH=12
REFERRAL_EXPIRY_DAYS=30

# ================================================================
# ENCRYPTION
# ================================================================
ENCRYPTION_ALGORITHM=AES256
FIELD_ENCRYPTION_KEY=your-32-byte-encryption-key-base64

# ================================================================
# FRONTEND URL
# ================================================================
FRONTEND_URL=http://localhost:3000

# ================================================================
# TIMEZONE
# ================================================================
DEFAULT_TIMEZONE=Asia/Kolkata
